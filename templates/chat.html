<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ✅ SEO 메타 태그 강화 -->
    <title>Saboo Thailand - สบู่ธรรมชาติรูปผลไม้ ชั้นนำไทย | แชทบอทปรึกษาฟรี</title>
    <meta name="description" content="Saboo Thailand ผู้ผลิตสบู่ธรรมชาติรูปผลไม้แรกในไทย ก่อตั้งปี 2008 ส่งออกกว่า 20 ประเทศ ปรึกษาฟรีผ่านแชทบอท โทร 02-159-9880 ร้านมิกซ์ จตุจักร">
    <meta name="keywords" content="สบู่ธรรมชาติ, สบู่รูปผลไม้, Saboo Thailand, บาธบอมบ์, สครับ, ผลิตภัณฑ์อาบน้ำ, สบู่ไทย, Natural Soap, Fruit Soap, Bath Bomb, มิกซ์จตุจักร, Shopee">
    <meta name="author" content="Saboo Thailand">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Thai">
    
    <!-- ✅ Open Graph (Facebook, LINE) -->
    <meta property="og:title" content="Saboo Thailand - สบู่ธรรมชาติรูปผลไม้ชั้นนำไทย">
    <meta property="og:description" content="ผู้ผลิตสบู่ธรรมชาติรูปผลไม้แรกในไทย ปรึกษาฟรีผ่านแชทบอท โทร 02-159-9880">
    <meta property="og:image" content="https://saboothailand.com/images/saboo-logo.png">
    <meta property="og:url" content="https://saboothailand.com">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Saboo Thailand">
    <meta property="og:locale" content="th_TH">
    
    <!-- ✅ Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Saboo Thailand - สบู่ธรรมชาติรูปผลไม้">
    <meta name="twitter:description" content="ผู้ผลิตสบู่ธรรมชาติรูปผลไม้แรกในไทย ปรึกษาฟรี">
    <meta name="twitter:image" content="https://saboothailand.com/images/saboo-logo.png">
    
    <!-- ✅ 구조화된 데이터 (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Saboo Thailand",
        "alternateName": "สบู่ธรรมชาติ Saboo Thailand",
        "description": "ผู้ผลิตสบู่ธรรมชาติและผลิตภัณฑ์อาบน้ำรูปผลไม้แรกในประเทศไทย ก่อตั้งปี 2008",
        "url": "https://saboothailand.com",
        "logo": "https://saboothailand.com/images/saboo-logo.png",
        "foundingDate": "2008",
        "contactPoint": [
            {
                "@type": "ContactPoint",
                "telephone": "+66-2-159-9880",
                "contactType": "customer service",
                "areaServed": "TH",
                "availableLanguage": ["Thai", "English"]
            },
            {
                "@type": "ContactPoint",
                "telephone": "+66-85-595-9565",
                "contactType": "sales",
                "areaServed": "TH",
                "availableLanguage": ["Thai"]
            }
        ],
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "มิกซ์ จตุจักร ชั้น 2 เลขที่ 8 ถนนกำแพงเพชร 3",
            "addressLocality": "จตุจักร",
            "addressRegion": "กรุงเทพฯ",
            "postalCode": "10900",
            "addressCountry": "TH"
        },
        "sameAs": [
            "https://shopee.co.th/thailandsoap",
            "https://www.lazada.co.th/shop/saboo-thailand",
            "https://www.youtube.com/@saboothailand.official",
            "https://www.instagram.com/saboothailand.official/",
            "https://www.tiktok.com/@saboothailand.official"
        ],
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "สินค้า Saboo Thailand",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Product",
                        "name": "สบู่ธรรมชาติรูปผลไม้",
                        "description": "สบู่ธรรมชาติรูปผลไม้แรกในไทย"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Product",
                        "name": "บาธบอมบ์",
                        "description": "ผลิตภัณฑ์อาบน้ำธรรมชาติ"
                    }
                }
            ]
        }
    }
    </script>
    
    <!-- ✅ Canonical URL -->
    <link rel="canonical" href="https://saboothailand.com">
    
    <!-- ✅ 파비콘 (올바른 경로로 수정) -->
    <link rel="shortcut icon" type="image/x-icon" href="https://saboothailand.com/img/favicon/favicon.ico" />
    <link rel="icon" type="image/x-icon" href="https://saboothailand.com/img/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="57x57" href="https://saboothailand.com/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://saboothailand.com/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://saboothailand.com/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://saboothailand.com/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://saboothailand.com/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://saboothailand.com/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://saboothailand.com/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://saboothailand.com/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://saboothailand.com/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://saboothailand.com/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://saboothailand.com/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://saboothailand.com/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://saboothailand.com/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://saboothailand.com/img/favicon/manifest.json" />
    <meta name="msapplication-TileColor" content="#ff69b4">
    <meta name="msapplication-TileImage" content="https://saboothailand.com/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ff69b4">
    
    <!-- ✅ CSS Styles -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffc0cb 0%, #ff69b4 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        
        /* ✅ SEO용 숨겨진 컨텐츠 (스크린리더 및 검색엔진용) */
        .seo-content {
            position: absolute;
            left: -9999px;
            top: -9999px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
        
        .chat-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
            height: 95vh;
            max-height: 700px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .logo-section {
            background: white;
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        .logo-placeholder {
            width: 120px;
            height: 60px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .chat-header {
            background: linear-gradient(135deg, #ffc0cb 0%, #ff69b4 100%);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
        }
        
        .dual-lang-message {
            line-height: 1.5;
        }
        
        .english-text {
            color: #2E7D32;
            font-weight: 500;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #E8F5E8;
        }
        
        .thai-text {
            color: #E65100;
            font-weight: 500;
        }
        
        .english-text.hidden,
        .thai-text.hidden {
            display: none;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
            min-height: 0;
        }
        
        .message {
            margin-bottom: 12px;
            animation: fadeIn 0.5s ease-in;
            display: flex;
            align-items: flex-end;
            gap: 8px;
        }
        
        .user-message {
            justify-content: flex-end;
        }
        
        .bot-message {
            justify-content: flex-start;
        }
        
        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .bot-avatar {
            background: #ff69b4;
            color: white;
        }
        
        .user-avatar {
            background: #4CAF50;
            color: white;
        }
        
        .user-message .bubble {
            background: #ff69b4;
            color: white;
            padding: 10px 14px;
            border-radius: 18px 18px 5px 18px;
            display: inline-block;
            max-width: 85%;
            word-wrap: break-word;
            font-size: 14px;
        }
        
        .bot-message .bubble {
            background: white;
            color: #333;
            padding: 10px 14px;
            border-radius: 18px 18px 18px 5px;
            display: inline-block;
            max-width: 85%;
            word-wrap: break-word;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 14px;
            line-height: 1.4;
        }
        
        /* 하이퍼링크 스타일 */
        .bot-message .bubble a {
            color: #ff69b4 !important;
            text-decoration: underline !important;
            font-weight: 500;
        }
        
        .bot-message .bubble a:hover {
            color: #e55aa0 !important;
            text-decoration: none !important;
        }
        
        .input-container {
            padding: 15px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 8px;
        }
        
        #messageInput {
            flex: 1;
            padding: 10px 14px;
            border: 2px solid #eee;
            border-radius: 25px;
            outline: none;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        #messageInput:focus {
            border-color: #ff69b4;
        }
        
        #sendButton {
            background: linear-gradient(135deg, #ffc0cb 0%, #ff69b4 100%);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s;
            white-space: nowrap;
        }
        
        #sendButton:hover {
            transform: scale(1.05);
        }
        
        #sendButton:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .loading {
            display: none;
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 10px;
            font-size: 14px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Mobile optimizations */
        @media (max-width: 480px) {
            body {
                padding: 5px;
            }
            
            .chat-container {
                height: 98vh;
                max-height: none;
                border-radius: 15px;
            }
            
            .logo-section {
                padding: 12px;
            }
            
            .logo-placeholder {
                width: 100px;
                height: 50px;
                font-size: 10px;
            }
            
            .chat-header {
                padding: 12px;
                font-size: 1em;
            }
            
            .chat-messages {
                padding: 12px;
            }
            
            .input-container {
                padding: 12px;
                gap: 6px;
            }
            
            #messageInput {
                padding: 8px 12px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            #sendButton {
                padding: 8px 14px;
            }
        }
        
        /* Very small screens */
        @media (max-width: 320px) {
            .user-message .bubble,
            .bot-message .bubble {
                max-width: 90%;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <!-- ✅ SEO용 숨겨진 컨텐츠 (검색엔진 크롤링용) -->
    <div class="seo-content">
        <h1>Saboo Thailand - สบู่ธรรมชาติรูปผลไม้ชั้นนำไทย</h1>
        <h2>ผู้ผลิตสบู่ธรรมชาติและผลิตภัณฑ์อาบน้ำแรกในประเทศไทย</h2>
        <p>Saboo Thailand เป็นบริษัทที่มุ่งเน้นการออกแบบ เป็นบริษัทแรกที่สร้างสรรค์สบู่รูปผลไม้ในประเทศไทย ก่อตั้งขึ้นในปี 2008 เป็นบริษัทผลิตสบู่ธรรมชาติชั้นนำของไทย เป็นแบรนด์ระดับโลกที่ส่งออกไปกว่า 20 ประเทศทั่วโลก</p>
        
        <h3>ที่อยู่และช่องทางติดต่อ</h3>
        <address>
            <p>สำนักงานใหญ่: 55/20 หมู่ 4 ตำบลบึงคำพร้อย อำเภอลำลูกกา จังหวัดปทุมธานี 12150</p>
            <p>ร้าน Saboo Thailand Shop: มิกซ์ จตุจักร ชั้น 2 เลขที่ 8 ถนนกำแพงเพชร 3 จตุจักร กรุงเทพฯ 10900</p>
            <p>โทรศัพท์: <a href="tel:0215999880">02-159-9880</a>, <a href="tel:0855959565">085-595-9565</a>, <a href="tel:0628978962">062-897-8962</a></p>
            <p>อีเมล: <a href="mailto:saboothailand@gmail.com">saboothailand@gmail.com</a></p>
        </address>
        
        <h3>ผลิตภัณฑ์หลัก</h3>
        <ul>
            <li>สบู่ธรรมชาติรูปผลไม้ (Natural Fruit Shape Soap)</li>
            <li>บาธบอมบ์ (Bath Bomb)</li>
            <li>บับเบิลบาธ (Bubble Bath)</li>
            <li>สเปรย์ปรับอากาศ (Air Freshener Spray)</li>
            <li>น้ำมันกระจายกลิ่น (Diffuser Oil)</li>
            <li>สครับผิว (Body Scrub)</li>
            <li>ชุดอาบน้ำ (Bath Set)</li>
        </ul>
        
        <h3>ช่องทางออนไลน์</h3>
        <ul>
            <li>เว็บไซต์หลัก: <a href="https://www.saboothailand.com">www.saboothailand.com</a></li>
            <li>ช้อปปิ้งมอลล์: <a href="https://www.saboomall.com">www.saboomall.com</a></li>
            <li>Shopee: <a href="https://shopee.co.th/thailandsoap">shopee.co.th/thailandsoap</a></li>
            <li>Lazada: <a href="https://www.lazada.co.th/shop/saboo-thailand">lazada.co.th/shop/saboo-thailand</a></li>
            <li>YouTube: <a href="https://www.youtube.com/@saboothailand.official">youtube.com/@saboothailand.official</a></li>
            <li>Instagram: <a href="https://www.instagram.com/saboothailand.official/">instagram.com/saboothailand.official</a></li>
            <li>TikTok: <a href="https://www.tiktok.com/@saboothailand.official">tiktok.com/@saboothailand.official</a></li>
        </ul>
        
        <h3>แชทบอทปรึกษาฟรี</h3>
        <p>สามารถปรึกษาเกี่ยวกับผลิตภัณฑ์ วิธีการใช้ การสั่งซื้อ และข้อมูลต่างๆ ผ่านแชทบอทได้ตลอด 24 ชั่วโมง รองรับภาษาไทย อังกฤษ เกาหลี ญี่ปุ่น และจีน</p>
        
        <h3>คำค้นหายอดนิยม</h3>
        <p>สบู่ธรรมชาติ, สบู่รูปผลไม้, saboo thailand, สบู่ไทย, บาธบอมบ์, สครับ, ผลิตภัณฑ์อาบน้ำ, natural soap, fruit soap, bath bomb, มิกซ์จตุจักร, shopee saboo</p>
    </div>

    <div class="chat-container">
        <div class="logo-section">
            <div class="logo-placeholder">
                <img src="https://saboothailand.com/images/saboo-logo.png" 
                     alt="Saboo Thailand Logo - สบู่ธรรมชาติรูปผลไม้" 
                     class="logo-image"
                     loading="lazy">
            </div>
        </div>
        
        <div class="chat-header">
            <div class="header-title">Saboo Thailand Chatbot</div>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                <div class="avatar bot-avatar">S</div>
                <div class="bubble">
                    Hello! Welcome to Saboo Thailand.<br>
                    I'm Saboo Chatbot, your helpful assistant here to answer all your questions.<br>
                    Ask me about Soaps, Bath Products, Room Sprays, and Home Spa Items.<br>
                    How can I help you today?
                </div>
            </div>
        </div>
        
        <div class="loading" id="loading">
            💬 Generating response...
        </div>
        
        <div class="input-container">
            <input type="text" id="messageInput" 
                   placeholder="Type your message here..." 
                   autocomplete="off"
                   aria-label="Type your message to chat with Saboo Thailand">
            <button id="sendButton" aria-label="Send message">Send</button>
        </div>
    </div>

    <script>
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const chatMessages = document.getElementById('chatMessages');
        const loading = document.getElementById('loading');

        // Send message function
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            messageInput.value = '';
            
            // Show loading
            showLoading(true);
            sendButton.disabled = true;

            try {
                const response = await fetch('/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message: message })
                });

                const data = await response.json();
                
                if (response.ok) {
                    // HTML 응답인지 확인하고 처리
                    if (data.is_html) {
                        addMessage(data.reply, 'bot', true); // HTML로 렌더링
                    } else {
                        addMessage(data.reply, 'bot', false); // 일반 텍스트로 렌더링
                    }
                } else {
                    addMessage('Sorry, an error occurred: ' + (data.error || 'Unknown error'), 'bot');
                }
            } catch (error) {
                addMessage('Network error occurred. Please try again.', 'bot');
            } finally {
                showLoading(false);
                sendButton.disabled = false;
                messageInput.focus();
            }
        }

        // 수정된 메시지 추가 함수 (HTML 렌더링 지원)
        function addMessage(text, sender, isHtml = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            // Create avatar
            const avatarDiv = document.createElement('div');
            avatarDiv.className = `avatar ${sender}-avatar`;
            avatarDiv.textContent = sender === 'bot' ? 'S' : 'G';
            
            // Create bubble
            const bubbleDiv = document.createElement('div');
            bubbleDiv.className = 'bubble';
            
            // HTML인지 일반 텍스트인지에 따라 처리
            if (isHtml && sender === 'bot') {
                bubbleDiv.innerHTML = text; // HTML로 렌더링 (하이퍼링크 포함)
            } else {
                bubbleDiv.textContent = text; // 일반 텍스트로 렌더링
            }
            
            // Add elements in correct order
            if (sender === 'bot') {
                messageDiv.appendChild(avatarDiv);
                messageDiv.appendChild(bubbleDiv);
            } else {
                messageDiv.appendChild(bubbleDiv);
                messageDiv.appendChild(avatarDiv);
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Show loading state
        function showLoading(show) {
            loading.style.display = show ? 'block' : 'none';
            if (show) {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        // Event listeners
        sendButton.addEventListener('click', sendMessage);
        
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Focus on input when page loads
        messageInput.focus();
        
        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            messageInput.focus();
            console.log('Saboo Thailand Chatbot loaded successfully');
        });
    </script>
</body>
</html>